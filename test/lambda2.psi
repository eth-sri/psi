
arrayLength := 3; // TODO: make unnecessary

def map(lambda: â„ â†’ â„){
    return (arr: â„[]){
        result := [];
        for i in [0..arrayLength){
            result ~= [lambda(arr[i])];
        }
        return result;
    }
}

def all(lambda: â„ â†’ ð”¹){
    return (arr: â„[]){
        result := true;
        for i in [0..arrayLength){
            result &&= lambda(arr[i]);
        }
        return result;
    }
}

def main(){
    g := map(flip);
    a := [1/2,1/3,1/4];
    h := (x)=>x!=0;
    return all(h)(g(a)); // expected: 1/24Â·Î´(1)[r]+23/24Â·Î´(0)[r]
}
